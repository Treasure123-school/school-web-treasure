# ===========================================
# Treasure-Home School Management System
# Self-Hosted Configuration
# ===========================================

# Node Environment
NODE_ENV=development

# Server Configuration
PORT=5000
FRONTEND_URL=http://localhost:5173

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:5000

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
DATABASE_URL=postgresql://treasurehome:treasurehome_password@localhost:5432/treasurehome_db

# For Docker Compose
POSTGRES_USER=treasurehome
POSTGRES_PASSWORD=treasurehome_password
POSTGRES_DB=treasurehome_db
POSTGRES_PORT=5432

# ===========================================
# MinIO Object Storage (S3-Compatible)
# ===========================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# Public-facing MinIO URL (for production deployments)
# MINIO_PUBLIC_ENDPOINT=storage.yourdomain.com
# MINIO_PUBLIC_PORT=443

# ===========================================
# Authentication & Security
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
SESSION_SECRET=your-session-secret-change-this-in-production

# Password Hashing
BCRYPT_ROUNDS=10

# ===========================================
# Email Configuration (Nodemailer)
# ===========================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=Treasure-Home School <noreply@treasurehome.com>

# ===========================================
# Redis (Optional - for caching & sessions)
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# REDIS_URL=redis://localhost:6379

# ===========================================
# File Upload Limits
# ===========================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/jpg,image/png,image/gif,image/webp,application/pdf

# ===========================================
# Backup Configuration
# ===========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=info
LOG_DIR=./logs

# ===========================================
# Feature Flags
# ===========================================
ENABLE_SWAGGER_DOCS=true
ENABLE_AUDIT_LOGS=true
ENABLE_EMAIL_NOTIFICATIONS=true

# ===========================================
# Production Overrides
# ===========================================
# In production, set these:
# NODE_ENV=production
# DATABASE_URL=postgresql://user:pass@production-db:5432/dbname
# MINIO_ENDPOINT=minio.production.com
# MINIO_USE_SSL=true
# REDIS_URL=redis://redis.production.com:6379

# ===========================================
# LEGACY (For Reference - Not Used in Self-Hosted)
# ===========================================
# Google OAuth (if needed)
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Supabase (DEPRECATED - replaced with MinIO)
# SUPABASE_URL=https://xxx.supabase.co
# SUPABASE_SERVICE_KEY=xxx
# SUPABASE_ANON_KEY=xxx
